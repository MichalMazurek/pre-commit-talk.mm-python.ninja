{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Pre-Commit in 5 minutes or less What will you get from this? You will know what is a pre-commit hook in git. You will see why you should use them in python development. You will find out how to use them (the easy way).","title":"Introduction"},{"location":"#pre-commit-in-5-minutes-or-less","text":"","title":"Pre-Commit in 5 minutes or less"},{"location":"#what-will-you-get-from-this","text":"You will know what is a pre-commit hook in git. You will see why you should use them in python development. You will find out how to use them (the easy way).","title":"What will you get from this?"},{"location":"introducing-pre-commit-com/","text":"Our world is full of superheroes pre-commit.com A framework for managing and maintaining multi-language pre-commit hooks. Install pip install pre-commit","title":"Introducing pre-commit.com"},{"location":"introducing-pre-commit-com/#our-world-is-full-of-superheroes","text":"pre-commit.com A framework for managing and maintaining multi-language pre-commit hooks.","title":"Our world is full of superheroes"},{"location":"introducing-pre-commit-com/#install","text":"pip install pre-commit","title":"Install"},{"location":"it-benefits-your-python-project/","text":"Winning! repos : - repo : https://github.com/gvanderest/pylama-pre-commit rev : 0.1.2 hooks : - id : pylama - repo : https://github.com/asottile/seed-isort-config rev : v1.9.0 hooks : - id : seed-isort-config - repo : https://github.com/pre-commit/mirrors-isort rev : v4.3.20 # Use the revision sha / tag you want to point at hooks : - id : isort - repo : https://github.com/ambv/black rev : 19.3b0 hooks : - id : black default_language_version : python : python3.7","title":"It benefits your python project"},{"location":"it-benefits-your-python-project/#winning","text":"repos : - repo : https://github.com/gvanderest/pylama-pre-commit rev : 0.1.2 hooks : - id : pylama - repo : https://github.com/asottile/seed-isort-config rev : v1.9.0 hooks : - id : seed-isort-config - repo : https://github.com/pre-commit/mirrors-isort rev : v4.3.20 # Use the revision sha / tag you want to point at hooks : - id : isort - repo : https://github.com/ambv/black rev : 19.3b0 hooks : - id : black default_language_version : python : python3.7","title":"Winning!"},{"location":"thanks/","text":"Do we have time for questions? Links https://pre-commit.com This presentation: http://pre-commit-talk.mm-python.ninja/ Author of this talk Michal Mazurek Email mmazurek@create.ml GitHub https://github.com/MichalMazurek","title":"That's all!"},{"location":"thanks/#do-we-have-time-for-questions","text":"","title":"Do we have time for questions?"},{"location":"thanks/#links","text":"https://pre-commit.com This presentation: http://pre-commit-talk.mm-python.ninja/","title":"Links"},{"location":"thanks/#author-of-this-talk","text":"","title":"Author of this talk"},{"location":"using-it-2/","text":"Hook installation $ pre-commit install pre-commit installed at .git/hooks/pre-commit Running it on your files $ pre-commit run -a Trim Trailing Whitespace.................................................Passed Fix End of Files.........................................................Passed Check Yaml...............................................................Passed Check for added large files..............................................Passed It runs on every commit $ git commit -a -m \"first commit\" Trim Trailing Whitespace.................................................Passed Fix End of Files.........................................................Failed hookid: end-of-file-fixer Files were modified by this hook. Additional output: Fixing Makefile Check Yaml...............................................................Passed Check for added large files..............................................Passed","title":"Using it - continued"},{"location":"using-it-2/#hook-installation","text":"$ pre-commit install pre-commit installed at .git/hooks/pre-commit","title":"Hook installation"},{"location":"using-it-2/#running-it-on-your-files","text":"$ pre-commit run -a Trim Trailing Whitespace.................................................Passed Fix End of Files.........................................................Passed Check Yaml...............................................................Passed Check for added large files..............................................Passed","title":"Running it on your files"},{"location":"using-it-2/#it-runs-on-every-commit","text":"$ git commit -a -m \"first commit\" Trim Trailing Whitespace.................................................Passed Fix End of Files.........................................................Failed hookid: end-of-file-fixer Files were modified by this hook. Additional output: Fixing Makefile Check Yaml...............................................................Passed Check for added large files..............................................Passed","title":"It runs on every commit"},{"location":"using-it-3/","text":"Failed commits You just run it again $ git commit -a -m \"first commit\" Trim Trailing Whitespace.................................................Passed Fix End of Files.........................................................Passed Check Yaml...............................................................Passed Check for added large files..............................................Passed [ master ( root-commit ) fb647d2 ] first commit 15 files changed, 392 insertions ( + ) create mode 100644 .pre-commit-config.yaml create mode 100644 Makefile create mode 100644 README.md create mode 100644 docs/assets/git.png create mode 100644 docs/index.md create mode 100644 docs/introducing-pre-commit-com.md create mode 100644 docs/it-benefits-your-python-project.md create mode 100644 docs/using-it-2.md create mode 100644 docs/using-it.md create mode 100644 docs/wait-writing-scripts.md create mode 100644 docs/what-are-the-git-hooks.md create mode 100644 docs/why-i-need-it.md create mode 100644 mkdocs.yml create mode 100644 poetry.lock create mode 100644 pyproject.toml","title":"Using it - finishing"},{"location":"using-it-3/#failed-commits","text":"","title":"Failed commits"},{"location":"using-it-3/#you-just-run-it-again","text":"$ git commit -a -m \"first commit\" Trim Trailing Whitespace.................................................Passed Fix End of Files.........................................................Passed Check Yaml...............................................................Passed Check for added large files..............................................Passed [ master ( root-commit ) fb647d2 ] first commit 15 files changed, 392 insertions ( + ) create mode 100644 .pre-commit-config.yaml create mode 100644 Makefile create mode 100644 README.md create mode 100644 docs/assets/git.png create mode 100644 docs/index.md create mode 100644 docs/introducing-pre-commit-com.md create mode 100644 docs/it-benefits-your-python-project.md create mode 100644 docs/using-it-2.md create mode 100644 docs/using-it.md create mode 100644 docs/wait-writing-scripts.md create mode 100644 docs/what-are-the-git-hooks.md create mode 100644 docs/why-i-need-it.md create mode 100644 mkdocs.yml create mode 100644 poetry.lock create mode 100644 pyproject.toml","title":"You just run it again"},{"location":"using-it/","text":"Simple config In your project root directory. pre-commit sample-config > .pre-commit-config.yaml git commit -a .pre-commit-config.yaml Sample config # See https://pre-commit.com for more information # See https://pre-commit.com/hooks.html for more hooks repos : - repo : https://github.com/pre-commit/pre-commit-hooks rev : v2.0.0 hooks : - id : trailing-whitespace - id : end-of-file-fixer - id : check-yaml - id : check-added-large-files","title":"Using it"},{"location":"using-it/#simple-config","text":"In your project root directory. pre-commit sample-config > .pre-commit-config.yaml git commit -a .pre-commit-config.yaml","title":"Simple config"},{"location":"using-it/#sample-config","text":"# See https://pre-commit.com for more information # See https://pre-commit.com/hooks.html for more hooks repos : - repo : https://github.com/pre-commit/pre-commit-hooks rev : v2.0.0 hooks : - id : trailing-whitespace - id : end-of-file-fixer - id : check-yaml - id : check-added-large-files","title":"Sample config"},{"location":"wait-writing-scripts/","text":"On the plus side: The scripts can be anything: python, perl, haskell, r They can do anything But... You have to write them ...or stackoverflow them they aren't kept in your repository! Words of wisdom There must a be a better way! \u2013 A wise man","title":"Wait... writing scripts?"},{"location":"wait-writing-scripts/#on-the-plus-side","text":"The scripts can be anything: python, perl, haskell, r They can do anything","title":"On the plus side:"},{"location":"wait-writing-scripts/#but","text":"You have to write them ...or stackoverflow them they aren't kept in your repository!","title":"But..."},{"location":"wait-writing-scripts/#words-of-wisdom","text":"There must a be a better way! \u2013 A wise man","title":"Words of wisdom"},{"location":"what-are-the-git-hooks/","text":"Definition Git hooks are scripts that Git executes before or after events such as: commit, push, and receive. Git hooks are a built-in feature - no need to download anything. Git hooks are run locally. These hook scripts are only limited by a developer's imagination . Some example hook scripts include: pre-commit : Check the commit message for spelling errors. pre-receive : Enforce project coding standards. post-commit : Email/SMS team members of a new commit. post-receive : Push the code to production. source: https://githooks.com Location of hooks in project: It's in .git/hooks $ ls -lah .git/hooks total 112 drwxr-xr-x 14 michal staff 448B 10 Jul 19 :03 . drwxr-xr-x 10 michal staff 320B 10 Jul 19 :04 .. ... -rwxr-xr-x 1 michal staff 424B 10 Jul 19 :03 pre-applypatch.sample -rwxr-xr-x 1 michal staff 5 .1K 10 Jul 19 :03 pre-commit -rwxr-xr-x 1 michal staff 1 .6K 10 Jul 19 :03 pre-commit.sample ...","title":"What are the git hooks?"},{"location":"what-are-the-git-hooks/#definition","text":"Git hooks are scripts that Git executes before or after events such as: commit, push, and receive. Git hooks are a built-in feature - no need to download anything. Git hooks are run locally. These hook scripts are only limited by a developer's imagination . Some example hook scripts include: pre-commit : Check the commit message for spelling errors. pre-receive : Enforce project coding standards. post-commit : Email/SMS team members of a new commit. post-receive : Push the code to production. source: https://githooks.com","title":"Definition"},{"location":"what-are-the-git-hooks/#location-of-hooks-in-project","text":"It's in .git/hooks $ ls -lah .git/hooks total 112 drwxr-xr-x 14 michal staff 448B 10 Jul 19 :03 . drwxr-xr-x 10 michal staff 320B 10 Jul 19 :04 .. ... -rwxr-xr-x 1 michal staff 424B 10 Jul 19 :03 pre-applypatch.sample -rwxr-xr-x 1 michal staff 5 .1K 10 Jul 19 :03 pre-commit -rwxr-xr-x 1 michal staff 1 .6K 10 Jul 19 :03 pre-commit.sample ...","title":"Location of hooks in project:"},{"location":"why-i-need-it/","text":"What we do with CI? linting testing building packages building docker images deploying What it takes? Time CI Runner takes time to start working Will usually fail on lint What should we do? Take some burden out from CI Pipeline","title":"So why I need it?"},{"location":"why-i-need-it/#what-we-do-with-ci","text":"linting testing building packages building docker images deploying","title":"What we do with CI?"},{"location":"why-i-need-it/#what-it-takes","text":"Time CI Runner takes time to start working Will usually fail on lint","title":"What it takes?"},{"location":"why-i-need-it/#what-should-we-do","text":"Take some burden out from CI Pipeline","title":"What should we do?"}]}